<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>logger</title>

<style>
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;
  font-family: sans-serif;
}

.app {
  display: flex;
  height: 100%;
}

.control-panel {
      width: 35vw;
      max-width: 120px;
      border-right: 1px solid #ccc;
      padding: 10px;
      box-sizing: border-box;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
}

.row {
  display: flex;
  gap: 4px;
  margin-bottom: 6px;
}

.row input[type="text"] {
  width: 6ch;
  padding: 4px;
  font-size: 16px;
}

.main-area {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.event-row {
  display: flex;
  align-items: center; /* vertically center label + input */
  gap: 6px;            /* space between label and textbox */
  margin-bottom: 6px;  /* space between rows */
}

</style>
</head>

<body>

<div class="app">

  <div class="control-panel" id="panel"></div>

<div class="main-area">
  <div class="event-row">
    <label for="arrivedOutput">arrived</label>
    <input id="arrivedOutput" type="text" inputmode="numeric" pattern="[0-9]*" style="margin-left:10px;width:140px;font-size:16px;">
  </div>

  <div class="event-row">
    <label for="inOutput">in</label>
    <input id="inOutput" type="text" inputmode="numeric" pattern="[0-9]*" style="margin-left:10px;width:140px;font-size:16px;">
  </div>

  <div class="event-row">
    <label for="outOutput">out</label>
    <input id="outOutput" type="text" inputmode="numeric" pattern="[0-9]*" style="margin-left:10px;width:140px;font-size:16px;">
  </div>

    <table id="logTable" border="1" cellpadding="5" style="margin-top:10px;width:100%;">
      <thead>
        <tr>
          <th>index</th>
          <th>appt time</th>
          <th>event</th>   
          <th>user input</th>
          <th>timestamp</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button id="openTableBtn">open table</button>
  </div>

</div>

<script>

/* ===========================
   BUILD ROWS
=========================== */
const panel = document.getElementById("panel");

for (let i = 1; i <= 25; i++) {
  const row = document.createElement("div");
  row.className = "row";
  row.setAttribute("data-row-id", i);
  
  row.innerHTML = `
    <input type="radio" name="slot">
    <input type="text" inputmode="numeric" pattern="[0-9]*" placeholder="${i}">
  `;

  panel.appendChild(row);
}



/* ===========================
   TIME CONVERTER
=========================== */
function convertTypedTime(text) {
  text = text.trim();
  if (!/^\d{3,4}$/.test(text)) return null;

  const n = Number(text);
  if (n < 0 || n > 2359) return null;

  let hour = text.length === 3 ? Number(text[0]) : Number(text.slice(0, 2));
  let min = Number(text.slice(-2));
  if (min > 59) return null;

  const am = hour >= 7 && hour <= 11;
  let period = am ? "AM" : "PM";

  if (hour > 12) hour -= 12;
  if (hour === 0) hour = 12;

  return `${hour}:${String(min).padStart(2,"0")} ${period}`;
}

  
</script>

</body>
</html>
